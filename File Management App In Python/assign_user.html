<!DOCTYPE html>
<html lang="en">
   <!-- BEGIN: Head -->
   <head>
      <meta charset="utf-8">
      <link href="../static/images/favicon.png" rel="shortcut icon">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta name="description" content="">
      <meta name="keywords" content="">
      <meta name="author" content="">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Project Form</title>
      <link rel="stylesheet" href="styles.css">
      <style>
          /* Add this CSS to your styles or within a <style> block */
            .alert-container {
                  display: none; /* Hidden by default */
                  position: relative;
                  top: 5px;
                  z-index: 1000; 
                  width: auto; /* Adjust width to content */
                  height: auto; /* Adjust height to content */
                  max-width: 100%; /* Prevents overflow */
                  padding: 10px 20px; /* Padding for content */
                  margin: 10px auto 0 auto; /* Center align */
                  margin-bottom: 25px; /* Bottom margin */
                  background-color: #f8d7da; /* Example background color for error */
                  border: 1px solid #f0ecec; /* Example border color */
                  border-radius: 5px; /* Rounded corners */
                  text-align: start; /* Center text */
                  box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1); /* Optional shadow */
               }

            .alert-container.active {
               display: block; /* Show container when active */
            }

          .alert-container.show{
            display: block;
          }
          .alert-success {
              background-color: #b3f0c2; /* Green */
          }
          .alert-error {
              background-color: #e7858e; /* Red */
          }
          .alert-warning {
              background-color: #ffc107; /* Yellow */
              color: #000; /* Black text for better contrast */
          }
      </style>
      <title>Projects</title>
      <link rel="stylesheet" href="{{ url_for('static', filename='css/app.css') }}" />
      <link rel="stylesheet" href="{{ url_for('static', filename='css/custom.css') }}" />
   </head>
   <!-- END: Head -->
   <body class="app">
      <!-- BEGIN: Mobile Menu -->
      <div class="mobile-menu md:hidden">
         <div class="mobile-menu-bar">
            <a href="" class="flex mr-auto">
            <img alt="360DigiTMG CRM" src="../static/images/AISpry-white-01.png">
            </a>
            <a href="javascript:;" id="mobile-menu-toggler"> <i data-feather="bar-chart-2" class="w-8 h-8 text-white transform -rotate-90"></i> </a>	
         </div>
         <h3 class="use-sec">Admin</h3>
         <ul class="border-t border-theme-24 py-5 hidden">
            <li>
               <a href="/dashboard" class="menu">
                  <div class="menu__icon"> <i data-feather="home"></i> </div>
                  <div class="menu__title"> Dashboard </div>
               </a>
            </li>
            {% if role == 'admin' %}
            <li>
               <a href="/users" class="menu">
                  <div class="menu__icon"> <i data-feather="layers"></i> </div>
                  <div class="menu__title"> Users </div>
               </a>
            </li>
            {% endif %}
            <li>
               <a href="/dashboard" class="side-menu">
                  <div class="side-menu__icon"> <i data-feather="file-text"></i> </div>
                  <div class="side-menu__title"> My Dashboard </div>
               </a>
            </li>
            <!-- <li>
               <a href="invoice.html" class="menu">
                  <div class="menu__icon"> <i data-feather="file-text"></i> </div>
                  <div class="menu__title"> Invoice </div>
               </a>
            </li>
            <li> -->
               <a href="/projects" class="menu menu--active">
                  <div class="menu__icon"> <i data-feather="book-open"></i> </div>
                  <div class="menu__title"> Projects </div>
               </a>
            </li>
            <li>
               <a href="#" class="menu">
                  <div class="menu__icon"> <i data-feather="calendar"></i> </div>
                  <div class="menu__title"> Leave </div>
               </a>
            </li>
         </ul>
      </div>
      <!-- END: Mobile Menu -->
      <div class="flex">
         <!-- BEGIN: Side Menu -->
         <nav class="side-nav">
            <a href="" class="intro-x flex items-center pl-5">
               <img alt="360DigiTMG CRM"  src="../static/images/AISpry-white-01.png">
               <!-- <span class="hidden xl:block text-white text-lg ml-3"> 360DigiTMG <span class="font-medium">one</span> </span> class="w-6"-->
            </a>
            <div class="side-nav__devider my-6"></div>
            <ul>
               <li>
                  <a href="/admin" class="side-menu ">
                     <div class="side-menu__icon"> <i data-feather="home"></i> </div>
                     <div class="side-menu__title"> Dashboard </div>
                  </a>
               </li>
               {% if role == 'User' %}
               <li>
                  <a href="/dashboard" class="side-menu ">
                     <div class="side-menu__icon"> <i data-feather="user"></i> </div>
                     <div class="side-menu__title"> My Dashboard </div>
                  </a>
               </li>
               {% endif %}
               {% if role == 'admin' %}
               <li>
                  <a href="/users" class="side-menu">
                        <div class="side-menu__icon"> <i data-feather="users"></i> </div>
                        <div class="side-menu__title"> Users </div>
                  </a>
               </li>
               {% endif %}
               <li>
                  <a href="/projects" class="side-menu side-menu--active">
                     <div class="side-menu__icon"> <i data-feather="briefcase"></i> </div>
                     <div class="side-menu__title"> Projects </div>
                  </a>
               </li>
               {% if role in ['admin','User'] %}
               <li>
                  <a href="/leave" class="side-menu">
                     <div class="side-menu__icon"> <i data-feather="calendar"></i> </div>
                     <div class="side-menu__title"> Leave </div>
                  </a>
               </li>
               {% endif %}
            </ul>
         </nav>
         <!-- END: Side Menu -->
         <!-- BEGIN: Content -->
         <div class="content">
            <!-- BEGIN: Top Bar -->
            <div class="top-bar">
               <!-- BEGIN: Breadcrumb -->
               <div class="-intro-x breadcrumb mr-auto hidden sm:flex"> <a href="/dashboard" class="">Dashboard</a><i data-feather="chevron-right" class="breadcrumb__icon"></i> <a href="" class="breadcrumb">Projects</a><i data-feather="chevron-right" class="breadcrumb__icon"></i><a href="" class="breadcrumb--active">Assign Lead</a>  </div>
               <!-- END: Breadcrumb -->
               <!-- BEGIN: Search -->
               <div class="intro-x relative mr-3 sm:mr-6">
               </div>
               <!-- END: Search -->
               <!-- BEGIN: Account Menu -->
               <div class="intro-x dropdown w-8 h-8 relative">
                  <div class="dropdown-toggle w-8 h-8 rounded-full overflow-hidden shadow-lg image-fit zoom-in">
                     <img alt="Midone Tailwind HTML Admin Template" src="../static/images/logout.png">
                  </div>
                  <div class="dropdown-box mt-10 absolute w-56 top-0 right-0 z-20">
                            <div class="dropdown-box__content box bg-theme-38 text-white">
                                <div class="p-2 border-t border-theme-40">
                                    <a href="/logout" class="flex items-center block p-2 transition duration-300 ease-in-out hover:bg-theme-1 rounded-md"> <i data-feather="toggle-right" class="w-4 h-4 mr-2"></i> Logout </a>
                                </div>
                            </div>
                        </div>
               </div>
               <!-- END: Account Menu -->
            </div>
            <!-- END: Top Bar -->
            <div class="intro-y flex flex-col sm:flex-row items-center mt-8">
                <h2 class="text-lg font-semibold mr-auto">
                    Assign Lead
                </h2>
            </div>
            
            <form method="POST" action="{{ url_for('assign_user', project_id=project_id) }}">
               <div class="centered-container mt-5">
                   <table class="styled-table lead-table">
                       <thead>
                           <tr>
                               <th class="checkbox-column">Tick Box</th>
                               <th class="name-column">Lead Name</th>
                           </tr>
                       </thead>
                       <tbody>
                           {% for lead in primary_resources %}
                           <tr>
                               <td>
                                   <input type="checkbox" name="primary_resources" value="{{ lead }}"
                                       {% if lead in assigned_resources %} checked {% endif %}>
                               </td>
                               <td>{{ lead }}</td>
                           </tr>
                           {% else %}
                           <tr>
                               <td colspan="2">No leads available for this project</td>
                           </tr>
                           {% endfor %}
                       </tbody>
                   </table>
           
                   <!-- Button for updating below the table -->
                   <div class="button-container mt-3">
                       <button type="submit" class="btn btn-primary">Update</button>
                   </div>
               </div>
           </form>         
            
         </div>
         <!-- END: Content -->
        </div>
      <!-- BEGIN: JS Assets-->
      <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclusterer.js"></script>
      <script src="https://maps.googleapis.com/maps/api/js?key=["your-google-map-api"]&libraries=places"></script>
      <script src="../static/js/app.js"></script>
      <!-- END: JS Assets-->
   </body>
</html>